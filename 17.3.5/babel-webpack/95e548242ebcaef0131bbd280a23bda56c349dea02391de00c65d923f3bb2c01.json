{"ast":null,"code":"import jsQR from \"jsqr\";\nimport * as i0 from \"@angular/core\";\nexport class ScanqrcodeComponent {\n  con() {\n    var video = document.createElement(\"video\");\n    var canvasElement = document.getElementById(\"canvas\");\n    var canvas = canvasElement.getContext(\"2d\");\n    var loadingMessage = document.getElementById(\"loadingMessage\");\n    var outputContainer = document.getElementById(\"output\");\n    var outputMessage = document.getElementById(\"outputMessage\");\n    var outputData = document.getElementById(\"outputData\");\n    function drawLine(begin, end, color) {\n      canvas.beginPath();\n      canvas.moveTo(begin.x, begin.y);\n      canvas.lineTo(end.x, end.y);\n      canvas.lineWidth = 4;\n      canvas.strokeStyle = color;\n      canvas.stroke();\n    }\n    // Use facingMode: environment to attemt to get the front camera on phones\n    navigator.mediaDevices.getUserMedia({\n      video: {\n        facingMode: \"environment\"\n      }\n    }).then(function (stream) {\n      video.srcObject = stream;\n      video.setAttribute(\"playsinline\", true); // required to tell iOS safari we don't want fullscreen\n      video.play();\n      requestAnimationFrame(tick);\n    });\n    function tick() {\n      loadingMessage.innerText = \"⌛ Loading video...\";\n      if (video.readyState === video.HAVE_ENOUGH_DATA) {\n        loadingMessage.hidden = true;\n        canvasElement.hidden = false;\n        outputContainer.hidden = false;\n        canvasElement.height = video.videoHeight;\n        canvasElement.width = video.videoWidth;\n        canvas.drawImage(video, 0, 0, canvasElement.width, canvasElement.height);\n        var imageData = canvas.getImageData(0, 0, canvasElement.width, canvasElement.height);\n        var code = jsQR(imageData.data, imageData.width, imageData.height, {\n          inversionAttempts: \"dontInvert\"\n        });\n        if (code) {\n          drawLine(code.location.topLeftCorner, code.location.topRightCorner, \"#FF3B58\");\n          drawLine(code.location.topRightCorner, code.location.bottomRightCorner, \"#FF3B58\");\n          drawLine(code.location.bottomRightCorner, code.location.bottomLeftCorner, \"#FF3B58\");\n          drawLine(code.location.bottomLeftCorner, code.location.topLeftCorner, \"#FF3B58\");\n          outputMessage.hidden = true;\n          outputData.parentElement.hidden = false;\n          outputData.innerText = code.data;\n        } else {\n          outputMessage.hidden = false;\n          outputData.parentElement.hidden = true;\n        }\n      }\n      requestAnimationFrame(tick);\n    }\n  }\n  static #_ = this.ɵfac = function ScanqrcodeComponent_Factory(t) {\n    return new (t || ScanqrcodeComponent)();\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: ScanqrcodeComponent,\n    selectors: [[\"app-scanqrcode\"]],\n    decls: 1,\n    vars: 0,\n    consts: [[\"id\", \"canvas\", \"height\", \"480\", \"width\", \"640\"]],\n    template: function ScanqrcodeComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelement(0, \"canvas\", 0);\n      }\n    },\n    styles: [\"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n  });\n}","map":{"version":3,"names":["jsQR","ScanqrcodeComponent","con","video","document","createElement","canvasElement","getElementById","canvas","getContext","loadingMessage","outputContainer","outputMessage","outputData","drawLine","begin","end","color","beginPath","moveTo","x","y","lineTo","lineWidth","strokeStyle","stroke","navigator","mediaDevices","getUserMedia","facingMode","then","stream","srcObject","setAttribute","play","requestAnimationFrame","tick","innerText","readyState","HAVE_ENOUGH_DATA","hidden","height","videoHeight","width","videoWidth","drawImage","imageData","getImageData","code","data","inversionAttempts","location","topLeftCorner","topRightCorner","bottomRightCorner","bottomLeftCorner","parentElement","_","_2","selectors","decls","vars","consts","template","ScanqrcodeComponent_Template","rf","ctx","i0","ɵɵelement"],"sources":["C:\\Users\\ryana\\OneDrive\\Desktop\\Personal Files\\Freelance\\attendance-monitoring-using-qr-code\\src\\app\\pages\\scanqrcode\\scanqrcode.component.ts","C:\\Users\\ryana\\OneDrive\\Desktop\\Personal Files\\Freelance\\attendance-monitoring-using-qr-code\\src\\app\\pages\\scanqrcode\\scanqrcode.component.html"],"sourcesContent":["import { Component } from '@angular/core';\nimport jsQR from \"jsqr\";\n\n@Component({\n  selector: 'app-scanqrcode',\n  templateUrl: './scanqrcode.component.html',\n  styleUrls: ['./scanqrcode.component.css']\n})\nexport class ScanqrcodeComponent {\n  con() {    \n    var video = document.createElement(\"video\");\n    var canvasElement = document.getElementById(\"canvas\");\n    var canvas = canvasElement.getContext(\"2d\");\n    var loadingMessage = document.getElementById(\"loadingMessage\");\n    var outputContainer = document.getElementById(\"output\");\n    var outputMessage = document.getElementById(\"outputMessage\");\n    var outputData = document.getElementById(\"outputData\");\n\n    function drawLine(begin, end, color) {\n      canvas.beginPath();\n      canvas.moveTo(begin.x, begin.y);\n      canvas.lineTo(end.x, end.y);\n      canvas.lineWidth = 4;\n      canvas.strokeStyle = color;\n      canvas.stroke();\n    }\n\n    // Use facingMode: environment to attemt to get the front camera on phones\n    navigator.mediaDevices.getUserMedia({ video: { facingMode: \"environment\" } }).then(function(stream) {\n      video.srcObject = stream;\n      video.setAttribute(\"playsinline\", true); // required to tell iOS safari we don't want fullscreen\n      video.play();\n      requestAnimationFrame(tick);\n    });\n\n    function tick() {\n      loadingMessage.innerText = \"⌛ Loading video...\"\n      if (video.readyState === video.HAVE_ENOUGH_DATA) {\n        loadingMessage.hidden = true;\n        canvasElement.hidden = false;\n        outputContainer.hidden = false;\n\n        canvasElement.height = video.videoHeight;\n        canvasElement.width = video.videoWidth;\n        canvas.drawImage(video, 0, 0, canvasElement.width, canvasElement.height);\n        var imageData = canvas.getImageData(0, 0, canvasElement.width, canvasElement.height);\n        var code = jsQR(imageData.data, imageData.width, imageData.height, {\n          inversionAttempts: \"dontInvert\",\n        });\n        if (code) {\n          drawLine(code.location.topLeftCorner, code.location.topRightCorner, \"#FF3B58\");\n          drawLine(code.location.topRightCorner, code.location.bottomRightCorner, \"#FF3B58\");\n          drawLine(code.location.bottomRightCorner, code.location.bottomLeftCorner, \"#FF3B58\");\n          drawLine(code.location.bottomLeftCorner, code.location.topLeftCorner, \"#FF3B58\");\n          outputMessage.hidden = true;\n          outputData.parentElement.hidden = false;\n          outputData.innerText = code.data;\n        } else {\n          outputMessage.hidden = false;\n          outputData.parentElement.hidden = true;\n        }\n      }\n      requestAnimationFrame(tick);\n    }\n  \n  }\n}","<canvas id=\"canvas\" height=\"480\" width=\"640\"></canvas>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}